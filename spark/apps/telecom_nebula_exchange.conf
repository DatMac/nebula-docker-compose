{
  "spark": {
    "app": { "name": "NebulaGraph Exchange Telecom Importer (Parquet)" },
    "driver": { "cores": 1, "maxResultSize": "4G" },
    "executor": { "memory": "2G" },
    "cores": { "max": 5 }
  },
  "nebula": {
    "address": {
      "graph": ["graphd:9669", "graphd1:9669", "graphd2:9669"],
      "meta": ["metad0:9559", "metad1:9559", "metad2:9559"]
    },
    "user": "root",
    "pswd": "nebula",
    "space": "telecom",
    "connection": { "timeout": 3000, "retry": 3 },
    "execution": { "retry": 3 }
  },

  "tags": [
    {
      "name": "Customer",
      "type": {
        "source": "parquet", 
        "sink": "client"
      },
      "path": "hdfs://namenode:8020/telecom/vertices/Customer",
      
      "fields": [
        "cust_id", "cust_type", "name", "birth_date", "sex",
        "nationality", "status", "address", "description", "id_type", "id_no",
        "id_issue_place", "id_issue_date", "id_expire_date"
      ],
      "nebula.fields": [
        "cust_id", "cust_type", "name", "birth_date", "sex", "nationality",
        "status", "address", "description", "id_type", "id_no",
        "id_issue_place", "id_issue_date", "id_expire_date"
      ],
      "vertex": {
        "field": "vertex_id"
      },
      "batch": 512,
      "partition": 10
    }
  ],

  "edges": [
    {
      "name": "CALL",
      "type": { "source": "parquet", "sink": "client" },
      "path": "hdfs://namenode:8020/telecom/edges/CALL",
      "fields": ["number_of_calls", "total_call_duration", "total_call_charge"],
      "nebula.fields": ["number_of_calls", "total_call_duration", "total_call_charge"],
      "source": { "field": "src_id" },
      "target": { "field": "dst_id" },
      "batch": 512
    },
    {
      "name": "SEND_SMS",
      "type": { "source": "parquet", "sink": "client" },
      "path": "hdfs://namenode:8020/telecom/edges/SEND_SMS",
      "fields": ["number_of_sms_sends", "total_sms_charge"],
      "nebula.fields": ["number_of_sms_sends", "total_sms_charge"],
      "source": { "field": "src_id" },
      "target": { "field": "dst_id" },
      "batch": 512
    },
    {
      "name": "TRANSACTION",
      "type": { "source": "parquet", "sink": "client" },
      "path": "hdfs://namenode:8020/telecom/edges/TRANSACTION",
      "fields": ["number_of_transaction", "total_number_of_transaction", "total_transaction_charge"],
      "nebula.fields": ["number_of_transaction", "total_number_of_transaction", "total_transaction_charge"],
      "source": { "field": "src_id" },
      "target": { "field": "dst_id" },
      "batch": 512
    }
  ]
}
